extends layouts/frontend

block title
    title TP Node S2 - Login

block content
    .ui.middle.aligned.center.aligned.grid
        .six.wide.column
            h2 Connectez-vous
            each error in flashErrors
                .ui.icon.message.error 
                    i.icon.exclamation.circle
                    .content
                        .ui.header
                            | #{error}  
            each success in flashSuccess
                .ui.icon.success.message 
                    i.icon.check.circle
                    .content
                        .ui.header
                            | #{success} 
            form.ui.large.form(method="post", action="/login")
                .ui.stacked.segment
                    +field('email', 'email', 'votre.email@mail.com', true)
                    +field('password', 'password', 'Mot de passe', true)
                    button(type="submit").ui.fluid.large.teal.submit.button Me connecter

mixin field(type, name, placeholder, required = true)
    .field
        .ui.left.icon.input
            i.icon(class=(type === 'password' ? 'lock' : 'user'))
            input(type=type, name=name, placeholder=placeholder required=required)